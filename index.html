<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>Merchant Compliance Investigation Tool</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 24px; }
    input, button { padding: 8px; margin: 6px 0; width: 100%; }
    textarea { width: 100%; height: 300px; margin-top: 16px; }
    .section { margin-top: 24px; }
  </style>
</head>
<body>

<h1>商家合規調查工具（內部）</h1>

<div class="section">
  <label>統一編號</label>
  <input id="companyId" placeholder="例如：54997559" />

  <label>官方網站</label>
  <input id="website" placeholder="https://example.com" />

  <button onclick="runInvestigation()">開始調查</button>
</div>

<div class="section">
  <h2>調查報告（JSON）</h2>
  <textarea id="result" readonly></textarea>
</div>

<script>
async function runInvestigation() {
  const companyId = document.getElementById('companyId').value;
  const website = document.getElementById('website').value;

  // MVP：先用 mock + AI backend
  const mockResult = {
    input: { companyId, website },
    company_information: {
      company_exists: true,
      company_name: "（示意）",
      business_registration_summary: "化妝品零售、食品零售"
    },
    website_observation: {
      observed_products: [
        {
          name: "膠原蛋白粉",
          detected_claims: ["促進", "保養"],
          possible_regulation: "食品安全衛生管理法"
        },
        {
          name: "保濕精華液",
          detected_claims: ["保濕", "修護"],
          possible_regulation: "化妝品衛生管理條例"
        }
      ]
    },
    potentially_applicable_regulations: [
      {
        law_name: "化妝品衛生管理條例",
        trigger_reason: "販售保養品",
        public_registry_available: true
      },
      {
        law_name: "食品安全衛生管理法",
        trigger_reason: "販售食品",
        public_registry_available: true
      }
    ],
    uncertainties_and_gaps: [
      "未確認化妝品產品是否完成登錄",
      "食品是否涉及健康功效宣稱需再確認"
    ],
    investigation_limitations: [
      "僅依公開網站資訊"
    ]
  };

  document.getElementById('result').value =
    JSON.stringify(mockResult, null, 2);
}
</script>

</body>
</html>
